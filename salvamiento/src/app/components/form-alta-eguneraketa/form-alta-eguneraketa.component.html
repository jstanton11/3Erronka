<!-- Erreskatatua eguneratzeko formularioa -->
<section *ngIf="opcion === 'update'">
  <form class="galdetegia" *ngIf="erreskatatua" #updateForm="ngForm" (ngSubmit)="update()">
    <div style="display:none">
      <img [src]="erreskatatua.argazkia ? erreskatatua.argazkia : 'assets/img/desconocido.jpg'" alt="">
    </div>
    <div class="mb-3 parametros">
      <label for="disabledTextInput" class="form-label">ID:</label>
      <input type="text" id="disabledTextInput" class="form-control" [(ngModel)]="erreskatatua.id" name="id" readonly>
    </div>

    <div class="mb-3 parametros">
      <label for="erreskate_id" class="form-label">ID Erreskatea:</label>
      <input type="text" id="erreskate_id" class="form-control" [(ngModel)]="erreskatatua.erreskate_id" name="erreskate_id" required>
      <!-- <div *ngIf="updateForm.controls['erreskate_id']?.invalid && updateForm.controls['erreskate_id']?.touched" class="text-danger">
        ID Erreskatea beharrezkoa da.
      </div> -->
    </div>

    <div class="mb-3 parametros">
      <label for="izenOsoa" class="form-label">Izen Osoa:</label>
      <input type="text" id="izenOsoa" class="form-control" [(ngModel)]="erreskatatua.izen_osoa" name="izen_osoa" required minlength="3">
      <!-- <div *ngIf="updateForm.controls['izen_osoa']?.invalid && updateForm.controls['izen_osoa']?.touched" class="text-danger">
        Izen osoa beharrezkoa da (gutxienez 3 karaktere).
      </div> -->
    </div>

    <div class="mb-3 parametros">
      <label for="adina" class="form-label">Adina:</label>
      <input type="number" id="adina" class="form-control" [(ngModel)]="erreskatatua.adina" name="adina" required min="0" max="120">
      <!-- <div *ngIf="updateForm.controls['adina']?.invalid && updateForm.controls['adina']?.touched" class="text-danger">
        Adina beharrezkoa da (0-120 artekoa).
      </div> -->
    </div>

    <div class="mb-3 parametros">
      <label for="sexua" class="form-label">Sexua:</label>
      <select id="sexua" class="form-select" [(ngModel)]="erreskatatua.sexua" name="sexua" required>
        <option value="" disabled selected>Aukeratu bat</option>
        <option value="E">Emakumea</option>
        <option value="G">Gizona</option>
      </select>
      <!-- <div *ngIf="updateForm.controls['sexua']?.invalid && updateForm.controls['sexua']?.touched" class="text-danger">
        Sexua beharrezkoa da.
      </div> -->
    </div>

    <div class="mb-3 parametros">
      <label for="jatorria" class="form-label">Jatorria:</label>
      <input type="text" id="jatorria" class="form-control" [(ngModel)]="erreskatatua.jatorria" name="jatorria" required>
      <!-- <div *ngIf="updateForm.controls['jatorria']?.invalid && updateForm.controls['jatorria']?.touched" class="text-danger">
        Jatorria beharrezkoa da.
      </div> -->
    </div>

    <div class="mb-3 parametros">
      <label for="balorazioMedikoa" class="form-label">Balorazio Medikoa:</label>
      <select id="balorazioMedikoa" class="form-select" [(ngModel)]="erreskatatua.balorazio_medikoa" name="balorazio_medikoa" required>
        <option value="" disabled selected>Aukeratu bat</option>
        <option value="Osasuntsu">Osasuntsu</option>
        <option value="Deshidratatuta">Deshidratatuta</option>
        <option value="Desnutrituta">Desnutrituta</option>
      </select>
      <!-- <div *ngIf="updateForm.controls['balorazio_medikoa']?.invalid && updateForm.controls['balorazio_medikoa']?.touched" class="text-danger">
        Balorazio medikoa beharrezkoa da.
      </div> -->
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="updateForm.invalid" (click)="closeModal()">ALDATU</button>
  </form>
</section>

<!-- Erreskatatua sortzeko formularioa -->
<section *ngIf="opcion === 'create'">
  <form class="galdetegia" *ngIf="erreskatatua" #createForm="ngForm" (ngSubmit)="altaErreskatatua()">
    <div style="display:none">
      <img [src]="erreskatatua.argazkia ? erreskatatua.argazkia : 'assets/img/desconocido.jpg'" alt="" [(ngModel)]="erreskatatua.argazkia">
    </div>

    <div class="mb-3 parametros">
      <label for="disabledTextInput" class="form-label">ID:</label>
      <input type="text" id="disabledTextInput" class="form-control" [(ngModel)]="erreskatatua.id" value="{{lastID}}" name="id" readonly>
    </div>

    <div class="mb-3 parametros">
      <label for="izenOsoa" class="form-label">Izen Osoa:</label>
      <input type="text" id="izenOsoa" class="form-control" [(ngModel)]="erreskatatua.izen_osoa" name="izen_osoa" required minlength="3">
      <!-- <div *ngIf="createForm.controls['izen_osoa']?.invalid && createForm.controls['izen_osoa']?.touched" class="text-danger">
        Izen osoa beharrezkoa da (gutxienez 3 karaktere).
      </div> -->
    </div>

    <div class="mb-3 parametros">
      <label for="erreskate_id" class="form-label">Erreskatea:</label>
      <select id="erreskate_id" class="form-select" [(ngModel)]="erreskatatua.erreskate_id" name="erreskate_id" required>
        <option value="" disabled selected>Aukeratu bat</option>
        <option value="1">Alboran Itsasoa</option>
        <option value="2">Gibraltar Itsasartea</option>
        <option value="3">Libiako Kosta</option>
        <option value="4">Grezia uharteak</option>
        <option value="5">Aljeriako Kosta</option>
        <option value="6">Joniko Itsasoa</option>
        <option value="7">Siziliako Kanala</option>
        <option value="8">Adriatiko Itsasoa</option>
        <option value="9">Sidra Golkoa</option>
        <option value="10">Mesinako itsasartea</option>
      </select>
      <!-- <div *ngIf="createForm.controls['erreskate_id']?.invalid && createForm.controls['erreskate_id']?.touched" class="text-danger">
        Erreskatea beharrezkoa da.
      </div> -->
    </div>

    <div class="mb-3 parametros">
      <label for="adina" class="form-label">Adina:</label>
      <input type="number" id="adina" class="form-control" [(ngModel)]="erreskatatua.adina" name="adina" required min="0" max="120">
      <!-- <div *ngIf="createForm.controls['adina']?.invalid && createForm.controls['adina']?.touched" class="text-danger">
        Adina beharrezkoa da (0-120 artekoa).
      </div> -->
    </div>

    <div class="mb-3 parametros">
      <label for="sexua" class="form-label">Sexua:</label>
      <select id="sexua" class="form-select" [(ngModel)]="erreskatatua.sexua" name="sexua" required>
        <option value="" disabled selected>Aukeratu bat</option>
        <option value="E">Emakumea</option>
        <option value="G">Gizona</option>
      </select>
      <!-- <div *ngIf="createForm.controls['sexua']?.invalid && createForm.controls['sexua']?.touched" class="text-danger">
        Sexua beharrezkoa da.
      </div> -->
    </div>

    <div class="mb-3 parametros">
      <label for="jatorria" class="form-label">Jatorria:</label>
      <input type="text" id="jatorria" class="form-control" [(ngModel)]="erreskatatua.jatorria" name="jatorria" required>
      <!-- <div *ngIf="createForm.controls['jatorria']?.invalid && createForm.controls['jatorria']?.touched" class="text-danger">
        Jatorria beharrezkoa da.
      </div> -->
    </div>

    <div class="mb-3 parametros">
      <label for="balorazio_medikoa" class="form-label">Balorazio Medikoa:</label>
      <select id="balorazio_medikoa" class="form-select" [(ngModel)]="erreskatatua.balorazio_medikoa" name="balorazio_medikoa" required>
        <option value="" disabled selected>Aukeratu bat</option>
        <option value="Osasuntsu">Osasuntsu</option>
        <option value="Deshidratatuta">Deshidratatuta</option>
        <option value="Desnutrituta">Desnutrituta</option>
      </select>
      <!-- <div *ngIf="createForm.controls['balorazio_medikoa']?.invalid && createForm.controls['balorazio_medikoa']?.touched" class="text-danger">
        Balorazio medikoa beharrezkoa da.
      </div> -->
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="createForm.invalid" (click)="closeModal()">ERREGISTRATU</button>
  </form>
</section>

